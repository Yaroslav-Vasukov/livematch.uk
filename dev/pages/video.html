{% extends "../layouts/_base.html" %} 
{% set currentPage = 'video' %}
{% block title %}Video{% endblock %} 
{% block active_nav %}video{% endblock %} 
{% block body_class %}page page--video{% endblock %} 
{% block head_extra %}
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
{% endblock %} 
{% block content %}

{% set videos = load_json('data/videos.json') %}
{% set featuredVideo = videos[0] %}

{% include '../components/page-header/page-header.twig' with {
  title: featuredVideo.title,
  subtitle: featuredVideo.category ~ ' â€¢ ' ~ featuredVideo.published_at|date('M d, Y'),
    mod: 'compact',
  breadcrumbs: [
    { label: 'Home', url: '/' },
    { label: 'Videos', url: '/videos' },
    { label: featuredVideo.title }
  ]
} %}



<section class="section section--margin">
  <div class="container">
    <div class="section__inner">
      
      {% if videos[0] %}
        {% include '../components/video-post/video-post.twig' with {
          video: videos[0],
          variant: 'featured'
        } %}
      {% endif %}
    </div>
  </div>
</section>

<section class="section section--margin">
  <div class="container">
    <div class="section__inner">
      {% include '../components/section-header/section-header.twig' with {
        title: 'Trending Videos',
        icon: 'videocam',
        more: 'See All Videos',
        more_href: '/videos'
      } %}
      
                  <div
        class="swiper home-videos-swiper"
        data-swiper='{
               "slidesPerView": 1,
               "spaceBetween": 16,
               "loop": true,
               "autoplay": { "delay": 2500, "disableOnInteraction": false },
               "breakpoints": {
                 "0":  { "slidesPerView": 1 },
                 "440":  { "slidesPerView": 2 },
                 "768":  { "slidesPerView": 3 },
                 "1024":  { "slidesPerView": 4 }
               }
             }'
      >
        <div class="swiper-wrapper">
           {% for v in videos|slice(12, 12) %}
          <div class="swiper-slide">
            {% include "../components/card-video/card-video.twig" with { video: v } only %}
          </div>
          {% else %}
          <div class="swiper-slide"><p class="muted">No videos.</p></div>
          {% endfor %}
        </div>
        <div class="swiper-button__wrap">
          <button
            class="swiper-button-prev"
            data-swiper-prev
            aria-label="Prev"
          ></button>
          <button
            class="swiper-button-next"
            data-swiper-next
            aria-label="Next"
          ></button>
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %} 
{% block scripts %}
<script
  defer
  src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"
></script>
{% endblock %}