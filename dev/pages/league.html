{% extends "../layouts/_base.html" %}
{% set currentPage = 'league' %}
{% block title %}League {% endblock %}
{% block active_nav %}league{% endblock %}
{% block body_class %}page page--league{% endblock %}
{% block head_extra %}
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
/>
{% endblock %}
{% block content %}

{% set statsData = load_json('data/stats-data.json') %}
{% set premierLeague = load_json("@/data/leagues/premier-league.json") %} 
{% set teams = load_json('data/teams.json') %}
{% set postsData = load_json('data/posts.json') %}
{% set videos = load_json('data/videos.json') %}



{% include '../components/page-header/page-header.twig' with {
  title: 'Premier League',
  subtitle: 'Great british league',
    mod: 'compact',
  breadcrumbs: [
    { label: 'Home', url: '/' },
    { label: 'premier-league' }
  ]
} %}
<section class="section section--margin">
  <div class="container">
    <div class="section__inner">
            {% include '../components/section-header/section-header.twig' with {
        title: 'Premier League Stats',
        icon: 'sports',
              show_more: false
      } %}
      {% include '../components/stats-section/stats-section.twig' with {
  subtitle: statsData.subtitle,
  stats: statsData.stats
} %}

    </div>
  </div>
</section>
<section class="section section--margin">
  <div class="container">
    <div class="section__inner">
      {% include '../components/section-header/section-header.twig' with {
        title: 'Trending Videos',
        icon: 'videocam',
        more: 'See All Videos',
        more_href: '/videos'
      } %}
      
                  <div
        class="swiper home-videos-swiper"
        data-swiper='{
               "slidesPerView": 1,
               "spaceBetween": 16,
               "loop": true,
               "autoplay": { "delay": 2500, "disableOnInteraction": false },
               "breakpoints": {
                 "0":  { "slidesPerView": 1 },
                 "440":  { "slidesPerView": 2 },
                 "768":  { "slidesPerView": 3 },
                 "1024":  { "slidesPerView": 4 }
               }
             }'
      >
        <div class="swiper-wrapper">
           {% for v in videos|slice(12, 12) %}
          <div class="swiper-slide">
            {% include "../components/card-video/card-video.twig" with { video: v } only %}
          </div>
          {% else %}
          <div class="swiper-slide"><p class="muted">No videos.</p></div>
          {% endfor %}
        </div>
        <div class="swiper-button__wrap">
          <button
            class="swiper-button-prev"
            data-swiper-prev
            aria-label="Prev"
          ></button>
          <button
            class="swiper-button-next"
            data-swiper-next
            aria-label="Next"
          ></button>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="section section--margin">
  <div class="container">
    <div class="section__inner">
      {% include "../components/section-header/section-header.twig" with {
      title: "Standings" } %}
                  {% include "../components/table/table.twig" with 
          { variant: 'main', caption: 'Premier League', 
          columns: [ { key:'pos', label:'#',
          align:'center', width:'64px' }, { key:'team', label:'Team',
          type:'team',align:'left', width:'minmax(200px,1fr)' }, { key:'gp',
          label:'GP', type:'number', align:'right', width:'4.5rem' }, { key:'w',
          label:'W', type:'number', align:'right', width:'4rem' }, { key:'d',
          label:'D', type:'number', align:'right', width:'4rem' }, { key:'l',
          label:'L', type:'number', align:'right', width:'4rem' }, { key:'f',
          label:'F', type:'number', align:'right', width:'4.5rem' }, { key:'a',
          label:'A', type:'number', align:'right', width:'4.5rem' }, { key:'gd',
          label:'GD', type:'number', align:'right', width:'4.5rem' }, { key:'p',
          label:'P', type:'number', align:'right', width:'4.5rem' }, {
          key:'form', label:'Form', type:'form', align:'end',
          width:'minmax(200px,2fr)' } ], rows: premierLeague } only %}
    </div>
  </div>
</section>
<section class="section section--margin">
  <div class="container">
    <div class="section__inner">
      {% include "../components/section-header/section-header.twig" with {
      title: "League posts" } %}

            <div class="archive__grid archive__grid--news">     
{% for post in postsData|slice(0, 8) %}
    {% include '../components/card-post/card-post.twig' %}
{% endfor %}
      </div>
    </div>
  </div>
</section>
<section class="section section--margin">
  <div class="container">
    <div class="section__inner">
            {% include '../components/section-header/section-header.twig' with {
        title: 'Popular Teams',
        icon: 'group',
        more: 'All Teams',
        more_href: '/teams'
      } %}
                        <div
        class="swiper home-teams-swiper"
        data-swiper='{
               "slidesPerView": 1,
               "spaceBetween": 16,
               "loop": true,
               "autoplay": { "delay": 2500, "disableOnInteraction": false },
               "breakpoints": {
                 "0":  { "slidesPerView": 1 },
                 "600":  { "slidesPerView": 2 },
                 "768":  { "slidesPerView": 3 },
                 "1280":  { "slidesPerView": 4 }
               }
             }'
      >
        <div class="swiper-wrapper">
           {% for t in teams %}
          <div class="swiper-slide">
            {% include "../components/card-team/card-team.twig" with { team: t } only %}
          </div>
          {% else %}
          <div class="swiper-slide"><p class="muted">No teams.</p></div>
          {% endfor %}
        </div>
        <div class="swiper-button__wrap">
          <button
            class="swiper-button-prev"
            data-swiper-prev
            aria-label="Prev"
          ></button>
          <button
            class="swiper-button-next"
            data-swiper-next
            aria-label="Next"
          ></button>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script
  defer
  src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"
></script>
{% endblock %}